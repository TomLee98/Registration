<!DOCTYPE html>
<html lang="zh">
<head>
<title></title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
</head>
<body>
<p align="left"><font face="宋体"><strong>1.3.6 运行模态</strong></font></p>
<blockquote style="MARGIN-RIGHT: 0px" dir="ltr">
<p align="left"><img src="1_3_6%1.bmp" alt=""> </p>
<p align="left">&nbsp;<u>运行模态</u>包括 <u>分布式</u> 与 <u>独占</u>两种状态。程序启动时将根据硬件状况自动选择对应的运行模态。</p>
<p align="left">&nbsp;<u>独占</u>：此时的配准资源完全驻留内存，推荐个人PC或独占高性能工作站使用。<br>
	&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;独占模式可用条件为 <b>加载数据文件后</b> 的可用内存总量不少于 &#40;启用核心数 + 2*DataSize&#41;GB 时使用。<br>
	&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;例如本机CPU核心数量8，并行计算时保留2个核心，即将处理的文件数据量(注意ims文件数据量约为文件大小的一半，nd2与tif文件数据量近似为文件大小)为3GB，则可用内存总量不少于(8-2+2*3)GB = 12GB时可以启用独占模式。</p>
<p align="left">&nbsp;<u>分布式</u>：此时除必要资源驻留内存，文件资源以内存映射形式保存在计算机硬盘上，推荐大文件处理时使用。<br>
	&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分布式模式可用条件为 <b>配准开始前</b> 可用内存总量应不少于 &#40;启用核心数&#41; GB。<br>
	&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当可用内存总量少于该阈值，MATLAB 并行计算工具箱计算时将自动发生内存-硬盘数据交换，可能影响配准效率或导致异常。<br>
	&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;若当前计算机被识别为Computation Server@silab, Reg3D程序将<b>强制启用</b>分布式运行模态，分布式资源调度器将自动协调 <b>多用户</b> 以避免资源冲突导致的MATLAB崩溃。</p>
	
<p align="left">&nbsp;注1：运行模态切换时将发生内存-硬盘自动数据交换，期间Reg3D程序将短暂失去交互响应。</p>
<p align="left">&nbsp;注2：文件读取、文件写入及配准过程中无法更改运行模态。</p>
<p align="left">&nbsp;注3：对于两模态均可使用的情况，推荐使用独占模式（具有更高的配准速度）。</p>
</blockquote>
</body>
</html>

